# HomeWorkTestRunners
 Домашнее задание по теме "Тест-раннеры юнит-тестирования для Java: JUnit, TestNG" (ProductStar)

# Постановка задачи
Домашнее задание
Автоматизация юнит тестов
Цель этого задания - практика автоматизации юнит тестов по собственно разработанному функционалу.
1. Написать решение задачки для расчета стоимости доставки (описание задачи в файле "ДЗ _ Тест-раннеры юнит-тестирования для Java_ JUnit, TestNG.pdf")
2. Покройте свое решение автотестами
3. Нужно использовать аннотации @Test, @Tag, @ParametrizedTest
4. Нужно использовать assertEquals, любой другой assert
5. Выложить код на github
6. Отправить задание на проверку
7. Дополнительное задание: посчитать процент покрытия используя Test Coverage, настроить Allure отчеты

## Подключенные зависимости и плагины
- junit-jupiter-engine - это основной движок тестирования для JUnit 5, отвечающий за запуск тестов (взята версия 5.13.4 для совместимости с остальными продуктами)
- junit-jupiter-params - библиотека для создания параметризованных тестов в JUnit 5(для @ParametrizedTest)
  
### Для html отчета JUnit5
- maven-surefire-plugin - основной плагин для изготовления отчёта с помощью surefire JUnit5
- junit-jupiter-api - модуль фреймворка JUnit 5 предоставляет API на основе аннотаций для написания модульных тестов. (необходим для surefire)

### Для html отчета Allure
- allure-maven - основной плагин для изготовления отчёта с помощью Allure
- allure-junit5 - модуль Allure Framework, который работает с фреймворком JUnit 5.
- junit-platform-launcher — модуль фреймворка JUnit 5, который предоставляет программный интерфейс для запуска тестов на платформе JUnit. Он обеспечивает стандартизированный способ обнаруживать, выбирать и выполнять тесты программно, что позволяет разрабатывать собственные движки тестов, средства запуска тестов и другие инструменты, интегрирующиеся с экосистемой JUnit.

## Описание основных файлов
- main/java/ru/productstar/testrunners/Transportation.java - основной класс реализации задания
- main/java/ru/productstar/testrunners/TransitServiceWorkload.java - класс со списком (enum) коэффициентов по загруженности
- main/java/ru/productstar/testrunners/MovingFragileFarawayException.java - класс для исключения(RuntimeException) по недопустимости перевозки хрупких грузов на дальние расстояния

- test/java/ru/productstar/basejunit/TransportationTest.java - тесты задания

- "ДЗ _ Тест-раннеры юнит-тестирования для Java_ JUnit, TestNG.pdf" - задача для расчета стоимости поставки в pdf -формате
- "HTML отчет о тестирование surefire.jpg" - принтскрин результатов отчёта surefire
- "HTML отчет о тестирование allure.jpg" - принтскрин результата одной из страничек отчёта allure
- "HTML отчет о покрытии тестами.jpg" - принтскрин результата одной из страничек отчёта allure

## Дополнительная информация

- surefire

Как генерировать html-отчёт с помощью surefire хорошо описано по ссылке https://habr.com/ru/articles/590199/ .
Если вкратце - то с подключенным плагином результаты тестирования (команда mvn surefire:test) автоматом складываются в директорию \target\surefire-reports в форматах txt и xml ,
а по команде mvn surefire-report:report из них в директорию target\reports генерится красивый файл surefire.html (с css и тд). 
Принтскрин примера представлен в файле "HTML отчет о тестирование surefire.jpg" .

- allure

Вначале скачивается в инете сам продукт allure (allure-2.34.1.zip), распаковывается и настраивается PATH на bin.
Для генерации html-отчета с помощью allure в проекте необходимо дополнительно подключить один плагин и две библиотеки (описаны в соответствующем разделе).
После этого при прогоне mvn test данные о результатах тестирования складываются по умолчанию в директорию проекта allure-results (файлы json).
Для генерации и просмотра html необходимо выполнить команду из корня папки приложения allure serve allure-results - после отработки на компе запускается 
сервер allure и открывается в браузере страничка соответствующего отчёта о тестировании. Принтскрин примера одной из закладок представлен в файле "HTML отчет о тестирование allure.jpg" .
Достаточно популярное описание страницы allure по ссылке https://habr.com/ru/companies/sberbank/articles/358836/ .

- процент покрытия

Для получения процента покрытия тестами в IntelliJ IDEA необходимо запустить тест выбрав в меню запуска пункт "Run <имя_теста> with Coverage" (отрабатывался при настроенном allure).
После отработки появится окно "Coverage", в котором можно будет нажать один из значков с надписью 
"Generate Coverage Report...". Далее указываем директорий и туда генерится красивая html-страничка по покрытию проекта тестами.
Принтскрин примера одной из страниц анализа покрытия тестами представлен в файле "HTML отчет о покрытии тестами.jpg".

